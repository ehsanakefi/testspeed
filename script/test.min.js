function funPhDStudents(val, index) {
  let e =
    "" == val.image
      ? `<div class=${
          index % 2 == 0 ? "empty_image_box1" : "empty_image_box2"
        }></div>`
      : ` <img alt="image profile user" class="lazyload profile_img_team" data-src=${val.image}   />`;
  return `<div class="card">
  <div class="image_box">
   ${e}
  </div>
  <div class="text_team">
    <p class="name_text_team">${val.name}</p>
    <p class="status_text_team">${val.field}</p>
    <div class="icons_team">
      ${
        val.linkedin
          ? `<a aria-label="linkedin" href="${val.linkedin}" class="tooltip" target="_blank"><img alt="icon small linkedin" src="./image/linkedin.png" class="icons_team_img" />
          <span class="tooltiptext">${val.name} 's LinkedIn</span></a>`
          : ""
      }
      ${
        val.github
          ? `<a aria-label="github" href="${val.github}" class="tooltip" target="_blank"><img alt="icon small github" src="./image/git.png" class="icons_team_img" />
          <span class="tooltiptext">${val.name} 's GitHub</span></a>`
          : ""
      }
      ${
        val.google_scholar
          ? `<a aria-label="google-scholar" href="${val.google_scholar}" class="tooltip" target="_blank"><img alt="icon small google-scholar" src="./image/google.png" class="icons_team_img" />
          <span class="tooltiptext">${val.name} 's Google Scholar</span></a>`
          : ""
      }
      ${
        val.homepage
          ? `<a aria-label="homepage" href="${val.homepage}" class="tooltip" target="_blank"><img alt="icon small website" src="./image/website.png" class="icons_team_img" />
          <span class="tooltiptext">${val.name} 's Website</span></a>`
          : ""
      }
    </div> 
  </div>
  </div>  
  `;
}
function funMScStudents(val, index) {
  const img =
    val.image == ""
      ? `<div class=${
          index % 2 == 0 ? "empty_image_box1" : "empty_image_box2"
        }></div>`
      : ` <img  class="lazyload profile_img_team"
        data-src=${val.image}   />`;
  return `<div class="card">
  <div class="image_box">
   ${img}
  </div>
  <div class="text_team">
    <p class="name_text_team">${val.name}</p>
    <p class="status_text_team">${val.field}</p>
    <div class="icons_team">
      ${
        val.linkedin
          ? `<a href="${val.linkedin}" class="tooltip" target="_blank"><img src="./image/linkedin.png" class="icons_team_img" />
          <span class="tooltiptext">${val.name} 's LinkedIn</span></a>`
          : ""
      }
      ${
        val.github
          ? `<a href="${val.github}" class="tooltip" target="_blank"><img src="./image/git.png" class="icons_team_img" />
          <span class="tooltiptext">${val.name} 's GitHub</span></a>`
          : ""
      }
      ${
        val.google_scholar
          ? `<a href="${val.google_scholar}" class="tooltip" target="_blank"><img src="./image/google.png" class="icons_team_img" />
          <span class="tooltiptext">${val.name} 's Google Scholar</span></a>`
          : ""
      }
      ${
        val.homepage
          ? `<a href="${val.homepage}" class="tooltip" target="_blank"><img src="./image/website.png" class="icons_team_img" />
          <span class="tooltiptext">${val.name} 's Website</span></a>`
          : ""
      }
    </div>              
  </div>
  </div>  
  `;
}
function funfaculty(val, index) {
  const img =
    val.image == ""
      ? `<div class=${
          index % 2 == 0 ? "empty_image_box1" : "empty_image_box2"
        }></div>`
      : ` <img src=${val.image} class="profile_img_team" />`;

  return `<div class="card">
      <div class="image_box">
       ${img}
      </div>
      <div class="text_team">
        <p class="name_text_team">${val.name}</p>
        <p class="status_text_team">${val.field}</p>
        <div class="icons_team">
          ${
            val.linkedin
              ? `<a href="${val.linkedin}" class="tooltip" target="_blank"><img src="./image/linkedin.png" class="icons_team_img" />
              <span class="tooltiptext">${val.name} 's LinkedIn</span></a>`
              : ""
          }
          ${
            val.github
              ? `<a href="${val.github}" class="tooltip" target="_blank"><img src="./image/git.png" class="icons_team_img" />
              <span class="tooltiptext">${val.name} 's GitHub</span></a>`
              : ""
          }
          ${
            val.google_scholar
              ? `<a href="${val.google_scholar}" class="tooltip" target="_blank"><img src="./image/google.png" class="icons_team_img" />
              <span class="tooltiptext">${val.name} 's Google Scholar</span></a>`
              : ""
          }
          ${
            val.homepage
              ? `<a href="${val.homepage}" class="tooltip" target="_blank"><img src="./image/website.png" class="icons_team_img" />
              <span class="tooltiptext">${val.name} 's Website</span></a>`
              : ""
          }
        </div> 
      </div>
    </div>  
  `;
}
function funBScStudent(val, index) {
  const img =
    val.image == ""
      ? `<div class=${
          index % 2 == 0 ? "empty_image_box1" : "empty_image_box2"
        }></div>`
      : ` <img data-src=${val.image} class="lazyload profile_img_team" />`;
  return `<div class="card">
  <div class="image_box">
   ${img}
  </div>
  <div class="text_team">
    <p class="name_text_team">${val.name}</p>
    <p class="status_text_team">${val.field}</p>
    <div class="icons_team">
      ${
        val.linkedin
          ? `<a href="${val.linkedin}" class="tooltip" target="_blank"><img loading="lazy" src="./image/linkedin.png" class="icons_team_img" />
          <span class="tooltiptext">${val.name} 's LinkedIn</span></a>`
          : ""
      }
      ${
        val.github
          ? `<a href="${val.github}" class="tooltip" target="_blank">
          <span class="tooltiptext">${val.name} 's GitHub</span><img loading="lazy" src="./image/git.png" class="icons_team_img" /></a>`
          : ""
      }
      ${
        val.google_scholar
          ? `<a href="${val.google_scholar}" class="tooltip" target="_blank"><img loading="lazy" src="./image/google.png" class="icons_team_img" />
          <span class="tooltiptext">${val.name} 's Google Scholar</span></a>`
          : ""
      }
      ${
        val.homepage
          ? `<a href="${val.homepage}" class="tooltip" target="_blank"><img loading="lazy" src="./image/website.png" class="icons_team_img" />
          <span class="tooltiptext">${val.name} 's Website</span></a>`
          : ""
      }
    </div> 
  </div>
  </div>  
  `;
}

function funAlumni(val, index) {
  return `
      <div class="card1">
            <div class="text_team1">
              <p class="name_text_team">${val.name}</p>
              <p class="status_text_team">${val.field}</p>
              <div class="icons_team1">
                ${
                  val.linkedin
                    ? `<a href="${val.linkedin}" class="tooltip" target="_blank"><img  src="./image/linkedin.png" class="icons_team_img" />
                    <span class="tooltiptext">${val.name} 's LinkedIn</span>
                    </a>`
                    : ""
                }
                ${
                  val.github
                    ? `<a href="${val.github}" class="tooltip" target="_blank"><img   src="./image/git.png" class="icons_team_img" />
                    <span class="tooltiptext">${val.name} 's GitHub</span>
                    </a>`
                    : ""
                }
                ${
                  val.google_scholar
                    ? `<a href="${val.google_scholar}" class="tooltip" target="_blank"><img src="./image/google.png" class="icons_team_img" />
                    <span class="tooltiptext">${val.name} 's Google Scholar</span>
                    </a>`
                    : ""
                }
                ${
                  val.homepage
                    ? `<a href="${val.homepage}" class="tooltip" target="_blank"><img src="./image/website.png" class="icons_team_img" />
                    <span class="tooltiptext">${val.name} 's Website</span>
                    </a>`
                    : ""
                }
              </div> 
            </div>
          </div> 
    `;
}

function funPublication(val, index) {
  const img =
    val.image == ""
      ? `<span></span>`
      : `<img src=${val.image} class="image_research" />
                `;
  return `
            <div class="card_research">
            <div class="image_research_box">
            ${img}
            </div>
            <div class="left_research_box">
              <span>
              <a href="${val.url}" target="_blank">
                <div class="title_research_box">
                  <h4 class="title_research">
                  ${val.title}
                  </h4>
                </div>
              </a>
                <div class="contain_text_research_box">
                  <p class="contain_text_research">
                  ${val.abstract}
                  </p>
                </div>
                <p class="jurnal">
                ${val.journal}, ${val.year}
                </p>
                <p class="author">
                ${val.author}
                </p>
              </span>
              <div class="icons_research_box">
                <div class="icon_text_research">
                  <img src="./image/quote.png" class="icon" />
                  <p class="paragraph_icon_research">BibTeX</p>
                </div>
                ${
                  val.pdf
                    ? `<a href="${val.pdf}" target="_blank">
                  <div class="icon_text_research">
                    <img src="./image/box.png" class="icon" />
                    <p class="paragraph_icon_research">PDF</p>
                  </div>
                </a>`
                    : ""
                }
                ${
                  val.code
                    ? `<a href="${val.code}" target="_blank">
                    <div class="icon_text_research">
                      <img src="./image/code.png" class="icon" />
                      <p class="paragraph_icon_research">Code</p>
                    </div>
                  </a>`
                    : ""
                }
                ${
                  val.website
                    ? `<a href="${val.website}" target="_blank">
                    <div class="icon_text_research">
                      <img src="./image/world.png" class="icon" />
                      <p class="paragraph_icon_research">Website</p>
                    </div>
                </a>`
                    : ""
                }
                ${
                  val.youtube
                    ? `<a href="${val.youtube}" target="_blank">
                      <div class="icon_text_research">
                        <img src="./image/youtube.png" class="icon" />
                        <p class="paragraph_icon_research">Youtube</p>
                      </div>
                  </a>`
                    : ""
                }
              </div>
            </div>
          </div> 
          `;
}

document.addEventListener("DOMContentLoaded", function () {
  fetch("./data/test.json")
    .then((response) => response.json())
    .then((data) => {
      const publications = data.publications;
      const BScStudents = data.BScStudents;
      const alumni = data.alumni;
      const faculty = data.faculty;
      const MscStudents = data.MScStudents;
      const PHDStudents = data.PhDStudents;

      const outputDivPublications = document.getElementById(
        "publications_box_team"
      );
      const outputDivAlumni = document.getElementById("alumni_box_team");
      const outputDivBScStudents = document.getElementById("ourteam_box_team");
      const outputDivFaculty = document.getElementById("faculty_box_team");
      const outputDivMScStudent = document.getElementById(
        "MSCStudents_box_team"
      );
      const outputDivPhDStudents = document.getElementById(
        "PHDStudents_box_team"
      );

      let alumniResult = "";
      let publicationsResult = "";
      let BScStudentsResult = "";
      let facultyResult = "";
      let MscStudentsResult = "";
      let PHDStudentsResult = "";
      console.log(alumni);
      publications.map((val, index) => {
        publicationsResult += funPublication(val);
      });
      alumni.map((val, index) => {
        alumniResult += funAlumni(val);
      });
      BScStudents.map((val, index) => {
        BScStudentsResult += funBScStudent(val);
      });
      faculty.map((val, index) => {
        facultyResult += funfaculty(val);
      });
      MscStudents.map((val, index) => {
        MscStudentsResult += funMScStudents(val);
      });
      PHDStudents.map((val, index) => {
        PHDStudentsResult += funPhDStudents(val);
      });

      outputDivPublications.innerHTML = publicationsResult;
      outputDivAlumni.innerHTML = alumniResult;
      outputDivBScStudents.innerHTML = BScStudentsResult;
      outputDivFaculty.innerHTML = facultyResult;
      outputDivMScStudent.innerHTML = MscStudentsResult;
      outputDivPhDStudents.innerHTML = PHDStudentsResult;
    })
    .catch((error) => console.error("Error fetching data:", error));
});
